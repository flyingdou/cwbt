<!-- 引入过滤器 -->
<wxs module="filter" src="../../utils/filters.wxs"></wxs>
<!-- 登录页面 -->
<view class = 'login' wx:if='{{isLogin}}'>
  <!-- 填充高度 -->
  <view style='height: 80rpx;'></view>

  <!-- logo -->
  <view class='banner'>
    <image src='{{logo}}' mode='aspectFill'></image>
  </view>

  <!-- 填充高度 --> 
  <view style='height: 80rpx;'></view>

  <!-- 表单 -->
  <view class='form'>
    <!-- 填充高度 -->
    <view style='height: 100rpx;'></view>
    <!-- 账号输入框 -->
    <view class='form-line'>
      <image class='account-icon' src='../../icon/zhanghao@2x.png' mode='widthFix'></image>
      <input type='number' class='form-input' placeholder='请输入手机号码' bindinput='checkAccountWechatId' data-key='account' value='{{account}}'></input>
      <view class='operator-icon' bindtap='clearAccount' wx:if='{{account}}'>
        <image class='right-icon' src='../../icon/del.png' mode='widthFix'></image>
      </view>
    </view>
    <!-- 密码输入框 -->
    <view class='form-line'>
      <image class='password-icon' src='../../icon/mima@2x.png' mode='widthFix'></image>
      <input type='password' class='form-input' placeholder='请输入密码' bindinput='saveFormParam' data-key='password' value='{{password}}' hidden='{{lookPassword}}'></input>
      <input type='input' class='form-input' placeholder='请输入密码' bindinput='saveFormParam' data-key='password' value='{{password}}' hidden='{{!lookPassword}}'></input>
      <view class='operator-icon' bindtap='lookPassword' wx:if='{{password}}'>
        <image class='right-icon' src='../../icon/look.png' mode='widthFix' hidden='{{lookPassword}}'></image>
        <image class='right-icon' src='../../icon/look_active.png' mode='widthFix' hidden='{{!lookPassword}}'></image>
      </view>
    </view>
    <!-- 填充高度 -->
    <view style='height: 70rpx;'></view>
    <!-- 登录按钮 -->
    <view class='from-button' bindtap='login' wx:if='{{!isGetUserInfo}}'>登录</view>
    <view class='from-button' wx:if='{{isGetUserInfo}}'>
      登录
      <button class='open-button' open-type='getUserInfo' bindgetuserinfo='login'></button>
    </view>
  </view>
</view>

<!-- 船员操作首页 -->
<view class = 'content' wx:if = '{{!isLogin}}'>
  <!-- 顶部背景 -->
  <view class='background'></view>
  <!-- 操作按钮块 -->
  <view class='blocks'>
    <view class='block' bindtap='goto' data-link='../shipList/shipList' data-message='功能暂无！' wx:if='{{userPriv == 3}}'>
      <image class='block-icon' src='../../icon/2930@2x.png' mode='widthFix'></image>
      <view class='block-text'>工作任务</view>
      <view class='block-count'>{{filter.toFixed(workCount.cycleWorkCount, 0)}}</view>
    </view>
    <view class='block' bindtap='goto' data-link='../switch/switch' data-key = 'choose' data-value = 'chooseTemp' data-message='功能暂无！' wx:if='{{userPriv == 3}}'>
      <image class='block-icon' src='../../icon/2917@2x.png' mode='widthFix'></image>
      <view class='block-text'>临时任务</view>
      <view class='block-count'>{{filter.toFixed(workCount.temporaryWorkCount, 0)}}</view>
    </view>
    <view class='block' bindtap='goto' data-link='../supervisionList/supervisionList' data-message='功能暂无！' 
      wx:if='{{userPriv == 3}}'>
      <image class='block-icon' src='../../icon/2930@2x.png' mode='widthFix'></image>
      <view class='block-text'>督导通知</view>
      <view class='block-count'>{{filter.toFixed(workCount.supervisionCount, 0)}}</view>
    </view>
    <view class='block' bindtap='goto' data-link='../../pages/validList/validList' data-message='功能暂无！' wx:if='{{userPriv == 2}}'>
      <image class='block-icon' src='../../icon/2918@2x.png' mode='widthFix'></image>
      <view class='block-text'>工作卡验收</view>
      <view class='block-count'>{{filter.toFixed(workCount.checkAcceptanceCount, 0)}}</view>
    </view>
    <view class='block' bindtap='goto' data-link='../selectTemporaryWorkCard/selectTemporaryWorkCard' data-message='功能暂无！' wx:if='{{userPriv == 2}}'>
      <image class='block-icon' src='../../icon/2917@2x.png' mode='widthFix'></image>
      <view class='block-text'>临时工作卡</view>
      <view class='block-count'>{{filter.toFixed(workCount.mtwcCount, 0)}}</view>
    </view>
    <view class='block' bindtap='goto' data-link='../supervisionList/supervisionList' data-message='功能暂无！' 
      wx:if='{{userPriv == 2}}'>
      <image class='block-icon' src='../../icon/2917@2x.png' mode='widthFix'></image>
      <view class='block-text'>督导</view>
      <!-- <view class='block-count'>{{filter.toFixed(workCount.temporaryCheckCount, 0)}}</view> -->
    </view>
  </view>
  <!-- 填充高度 -->
  <view style='height: 120rpx;'></view>
  <!-- 底部图片 -->
  <view class='pics'>
    <image src='{{logo}}'></image>
  </view>
</view>

<!-- <mark showModalStatus='{{showModalStatus}}' type='radio' bindMark='test'></mark> -->
